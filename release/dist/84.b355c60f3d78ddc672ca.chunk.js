webpackJsonp([84],{1210:function(t,e,n){"use strict";var a=n(1235);e.a={mixins:[a.a],props:{info:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{handleUploadSuccess:function(t,e){this.upload_process=!1,this.info.logo=t.data.file_url}}}},1211:function(t,e,n){"use strict";e.a={props:{info:{type:Object,default:function(){return{}}}}}},1212:function(t,e,n){var a,i,o;!function(s,r){i=[t,n(1213),n(1215),n(1216)],a=r,void 0!==(o="function"==typeof a?a.apply(e,i):a)&&(t.exports=o)}(0,function(t,e,n,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=i(e),u=i(n),d=i(a),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),v=function(t){function e(t,n){o(this,e);var a=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.resolveOptions(n),a.listenClick(t),a}return r(e,t),p(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===f(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,d.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return c("action",t)}},{key:"defaultTarget",value:function(t){var e=c("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return c("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(u.default);t.exports=v})},1213:function(t,e,n){var a,i,o;!function(s,r){i=[t,n(1214)],a=r,void 0!==(o="function"==typeof a?a.apply(e,i):a)&&(t.exports=o)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(t){return t&&t.__esModule?t:{default:t}}(e),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),s=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,a.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,a.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":i(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s})},1214:function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var a=window.getSelection(),i=document.createRange();i.selectNodeContents(t),a.removeAllRanges(),a.addRange(i),e=a.toString()}return e}t.exports=n},1215:function(t,e){function n(){}n.prototype={on:function(t,e,n){var a=this.e||(this.e={});return(a[t]||(a[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function a(){i.off(t,a),e.apply(n,arguments)}var i=this;return a._=e,this.on(t,a,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),a=0,i=n.length;for(a;a<i;a++)n[a].fn.apply(n[a].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),a=n[t],i=[];if(a&&e)for(var o=0,s=a.length;o<s;o++)a[o].fn!==e&&a[o].fn._!==e&&i.push(a[o]);return i.length?n[t]=i:delete n[t],this}},t.exports=n},1216:function(t,e,n){function a(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!r.string(e))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(t))return i(t,e,n);if(r.nodeList(t))return o(t,e,n);if(r.string(t))return s(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function s(t,e,n){return c(document.body,t,e,n)}var r=n(1217),c=n(1218);t.exports=a},1217:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},1218:function(t,e,n){function a(t,e,n,a,i){var s=o.apply(this,arguments);return t.addEventListener(n,s,i),{destroy:function(){t.removeEventListener(n,s,i)}}}function i(t,e,n,i,o){return"function"==typeof t.addEventListener?a.apply(null,arguments):"function"==typeof n?a.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return a(t,e,n,i,o)}))}function o(t,e,n,a){return function(n){n.delegateTarget=s(n.target,e),n.delegateTarget&&a.call(t,n)}}var s=n(1219);t.exports=i},1219:function(t,e){function n(t,e){for(;t&&t.nodeType!==a;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var a=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=n},1235:function(t,e,n){"use strict";e.a={data:function(){return{upload_process:!1,upload_percent:0}},computed:{upload_header:function(){return{"x-token":this.$store.state.user.token,"x-file-key":"file"}},pcUrl:function(){var t=this.$store.state.user.info.product_url,e=this.$store.state.user.info.x_sub_host;return t.split("//")[0]+"//"+e+"."+t.split("//")[1]},mobileUrl:function(){var t=this.$store.state.user.info.product_url,e=this.$store.state.user.info.x_sub_host;return t.split("//")[0]+"//"+e+"."+t.split("//")[1]+"/student/login"}},methods:{save:function(){this.$emit("on-save")},handleUploadError:function(t,e){this.$Notice.warning({title:"文件上传失败",desc:"文件 "+e.name+" 上传失败"})},handleUploadBefore:function(t){this.upload_process=!0,this.upload_percent=0},handleUploadProgress:function(t,e,n){this.upload_percent=t.percent},handleFormatError:function(t){this.upload_process=!1,this.$Notice.warning({title:"文件格式不正确",desc:"文件 "+t.name+" 格式不正确，请上传 jpg 或 png 格式的图片。"})},handleMaxSize:function(t){this.$Notice.warning({title:"超出文件大小限制",desc:"文件 "+t.name+" 太大，不能超过 2M。"})}}}},1383:function(t,e,n){"use strict";function a(t){s||n(1384)}var i=n(1210),o=n(1385),s=!1,r=n(11),c=a,l=r(i.a,o.a,!1,c,null,null);l.options.__file="src/views/system/configs/ui/tab-mobile.vue",e.a=l.exports},1384:function(t,e){},1385:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Form",{attrs:{"label-position":"top"}},[n("Form-item",{attrs:{label:"登录地址"}},[n("Input",{attrs:{value:t.mobileUrl,disabled:""}},[n("Button",{staticClass:"copy-btn",attrs:{slot:"append",type:"ghost","data-clipboard-text":t.mobileUrl},slot:"append"},[t._v("复制")])],1)],1),t._v(" "),n("Form-item",{attrs:{label:"系统名称(登录页及标题栏显示)"}},[n("Input",{attrs:{placeholder:"请输入系统名称"},model:{value:t.info.system_name,callback:function(e){t.$set(t.info,"system_name",e)},expression:"info.system_name"}})],1),t._v(" "),n("Form-item",{attrs:{label:"顶部Logo(格式:.jpg格式,尺寸:200px*50px,文件大小:<= 200KB)"}},[n("img",{staticStyle:{width:"50px",height:"50px",background:"#03a9f3"},attrs:{src:t.info.logo}}),n("br"),t._v(" "),n("Upload",{ref:"upload",attrs:{headers:t.upload_header,"show-upload-list":!1,"on-success":t.handleUploadSuccess,"on-error":t.handleUploadError,format:["jpg","jpeg","png"],"max-size":1024,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"on-progress":t.handleUploadProgress,"before-upload":t.handleUploadBefore,name:"file",type:"select",action:"/api/upload"}},[n("Button",{staticClass:"mt-2",attrs:{loading:t.upload_process,type:"ghost",icon:"ios-cloud-upload-outline"}},[t._v("更换顶部LOGO")])],1)],1),t._v(" "),n("Form-item",[n("Button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)},i=[];a._withStripped=!0;var o={render:a,staticRenderFns:i};e.a=o},1386:function(t,e,n){"use strict";function a(t){s||n(1387)}var i=n(1211),o=n(1388),s=!1,r=n(11),c=a,l=r(i.a,o.a,!1,c,"data-v-a5a40784",null);l.options.__file="src/views/system/configs/ui/preview-mobile.vue",e.a=l.exports},1387:function(t,e){},1388:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-layout"},[n("div",{staticClass:"logo"},[n("img",{attrs:{src:t.info.logo}})]),t._v(" "),t._m(0)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form"},[n("div",{staticClass:"x-login-box"},[n("div",[n("input",{attrs:{readonly:"",type:"text",placeholder:"手机号"}})]),t._v(" "),n("div",[n("input",{attrs:{readonly:"",placeholder:"密码"}})])]),t._v(" "),n("div",{staticClass:"bottom"},[n("button",{staticClass:"x-btn x-btn-lg",attrs:{type:"primary"}},[t._v("登录")])]),t._v(" "),n("div",{staticClass:"bottom-link"},[n("a",[t._v("注册账号")]),t._v(" "),n("span",[t._v("|")]),t._v(" "),n("a",[t._v("忘记密码?")])])])}];a._withStripped=!0;var o={render:a,staticRenderFns:i};e.a=o},1802:function(t,e,n){"use strict";var a=n(602),i=n.n(a),o=(n(1),n(210)),s=n(2698),r=n(1383),c=n(2701),l=n(1386),u=n(2704),d=n(2706),f=n(2709),p=n(2711),v=n(1212),m=n.n(v),h=null;e.a={mixins:[o.a],components:{tabPc:s.a,tabMobile:r.a,previewPc:c.a,previewMobile:l.a,StudentMobileMenu:u.a,PreviewStudentMenu:d.a,OrgMobileMenu:f.a,PreviewOrgMenu:p.a},data:function(){return{tab:"pc",tab_pc:"login",tab_mobile:"login",tab_org:"fast_menu",student_preview_data:[],org_preview_data:{}}},mounted:function(){var t=this;h=new m.a(".copy-btn"),h.on("success",function(e){t.$Message.success("复制成功！"),e.clearSelection()})},destroyed:function(){h.destroy()},computed:{info:function(){return this.$store.state.client.params}},methods:{handleSubmit:function(){var t=this,e="add"===this.action?["post","configs/edit_center_params"]:["put","configs/edit_center_params"],n=i()(e,2),a=n[0],o=n[1],s={cid:this.$store.state.client.cid,params:{}};s.params[this.tab]=this.info[this.tab],this.$http[a](o,s).then(function(e){var n={client:{params:t.info}};t.$Message.success("保存成功!"),t.$store.commit("updateUserInfo",{user:n,action:"changeUI"})},function(e){t.$Message.error(e.message)})},studentConfigChange:function(t){this.student_preview_data=t.home_menu},orgConfigChange:function(t){var e=t.config,n=t.rid,a=t.rids;this.org_preview_data={config:e,rid:n,rids:a}}}}},1803:function(t,e,n){"use strict";var a=n(1235);e.a={mixins:[a.a],props:{info:{type:Object,default:function(){return{}}}},data:function(){return{upload_process:!1,upload_percent:0}},methods:{handleUploadSuccess1:function(t,e){this.upload_process=!1,this.info.login_img=t.data.file_url},handleUploadSuccess2:function(t,e){this.upload_process=!1,this.info.big_logo=t.data.file_url},handleUploadSuccess3:function(t,e){this.upload_process=!1,this.info.small_logo=t.data.file_url}}}},1804:function(t,e,n){"use strict";var a=n(55);e.a={mixins:[a.a],props:{info:{type:Object,default:function(){return{}}}},data:function(){return{accountFocus:!1,captchaFocus:!1,passwordFocus:!1,formLogin:{account:"",password:"",captcha:""},captchaUrl:"/api/captcha"}},methods:{inputFocus:function(t,e){var n=t.target.parentNode.style;if(n.borderColor="#5cadff",n.color="#5cadff",e){this[e+"Focus"]=!0}},inputBlur:function(t,e){var n=t.target.parentNode.style;if(n.borderColor="#DDDDDD",n.color="#c5c5c5",e){this[e+"Focus"]=!1}},clearPw:function(){this.formLogin.password="",this.focus("password")},clearAccount:function(){this.formLogin.account="",this.focus("account")}}}},1805:function(t,e,n){"use strict";var a=(n(1),n(910)),i=n(209),o=n(210);e.a={mixins:[i.a,a.a,o.a],data:function(){return{cfg_name:"student_mobile_ui",config:{home_menu:[],tab_bar:{}}}},methods:{selectFromMyFile:function(t){this.$Modal.open("components/SelectFile.vue@modal",{props:{selType:"image"},on:{selected:function(e){t.icon=e.file_url}}}).then(function(t){t.vuec.show("选择图标","list")})},initFinished:function(){this.$emit("on-change",this.config)}},watch:{config:function(t){this.$emit("on-change",t)}}}},1806:function(t,e,n){"use strict";e.a={props:{data:{type:Array,default:function(){return[]}}},data:function(){return{}}}},1807:function(t,e,n){"use strict";var a=(n(1),n(209)),i=n(910),o=n(210);e.a={mixins:[a.a,i.a,o.a],data:function(){return{cfg_name:"org_mobile_ui",config:{home_menu:[],tab_bar:{}},rid:0,rids:[]}},methods:{selectFromMyFile:function(t){this.$Modal.open("components/SelectFile.vue@modal",{props:{selType:"image"},on:{selected:function(e){t.icon=e.file_url}}}).then(function(t){t.vuec.show("选择图标","list")})},initFinished:function(){var t=this;this.rids=[],this.config.home_menu.forEach(function(e){e.rids.forEach(function(e){-1==t.rids.indexOf(e)&&t.rids.push(e)})}),this.rids.length>0&&(this.rid=this.rids[0]),this.emitEvent()},emitEvent:function(){this.$emit("on-change",{config:this.config,rid:this.rid,rids:this.rids})}},watch:{config:function(t){this.emitEvent()}}}},1808:function(t,e,n){"use strict";var a=n(210);e.a={mixins:[a.a],props:{data:{type:Object,default:function(){return{}}}},data:function(){return{}}}},2697:function(t,e){},2698:function(t,e,n){"use strict";function a(t){s||n(2699)}var i=n(1803),o=n(2700),s=!1,r=n(11),c=a,l=r(i.a,o.a,!1,c,null,null);l.options.__file="src/views/system/configs/ui/tab-pc.vue",e.a=l.exports},2699:function(t,e){},2700:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Form",{attrs:{"label-position":"top"}},[n("Form-item",{attrs:{label:"界面风格"}},[n("RadioGroup",{attrs:{type:"button"},model:{value:t.info.theme,callback:function(e){t.$set(t.info,"theme",e)},expression:"info.theme"}},[n("Radio",{attrs:{label:"default"}},[t._v("暗黑")]),t._v(" "),n("Radio",{attrs:{label:"light"}},[t._v("亮白")])],1)],1),t._v(" "),n("Form-item",{attrs:{label:"登录地址"}},[n("Input",{attrs:{value:t.pcUrl,disabled:""}},[n("Button",{staticClass:"copy-btn",attrs:{slot:"append",type:"ghost","data-clipboard-text":t.pcUrl},slot:"append"},[t._v("复制")])],1)],1),t._v(" "),n("Form-item",{attrs:{label:"系统名称(登录页及标题栏显示)"}},[n("Input",{attrs:{placeholder:"请输入系统名称"},model:{value:t.info.system_name,callback:function(e){t.$set(t.info,"system_name",e)},expression:"info.system_name"}})],1),t._v(" "),n("Form-item",{attrs:{label:"版权信息"}},[n("Input",{attrs:{placeholder:"请输入系统名称"},model:{value:t.info.copyright,callback:function(e){t.$set(t.info,"copyright",e)},expression:"info.copyright"}})],1),t._v(" "),n("Form-item",{attrs:{label:"登录页背景图(格式:jpg格式,尺寸:1280px*720px,文件大小:<=300KB)"}},[n("img",{staticStyle:{height:"120px"},attrs:{src:t.info.login_img}}),n("br"),t._v(" "),n("Upload",{ref:"upload",attrs:{headers:t.upload_header,"show-upload-list":!1,"on-success":t.handleUploadSuccess1,"on-error":t.handleUploadError,format:["jpg","jpeg","png"],"max-size":1024,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"on-progress":t.handleUploadProgress,"before-upload":t.handleUploadBefore,name:"file",type:"select",action:"/api/upload"}},[n("Button",{staticClass:"mt-2",attrs:{loading:t.upload_process,type:"ghost",icon:"ios-cloud-upload-outline"}},[t._v("更换登录页背景图")])],1)],1),t._v(" "),n("Form-item",{attrs:{label:"顶部Logo(展开)(格式:png(透明).jpg格式,尺寸:200px*50px,文件大小:<= 200KB)"}},[n("img",{staticStyle:{width:"200px",height:"50px",background:"#03a9f3"},attrs:{src:t.info.big_logo}}),n("br"),t._v(" "),n("Upload",{ref:"upload",attrs:{headers:t.upload_header,"show-upload-list":!1,"on-success":t.handleUploadSuccess2,"on-error":t.handleUploadError,format:["jpg","jpeg","png"],"max-size":1024,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"on-progress":t.handleUploadProgress,"before-upload":t.handleUploadBefore,name:"file",type:"select",action:"/api/upload"}},[n("Button",{staticClass:"mt-2",attrs:{loading:t.upload_process,type:"ghost",icon:"ios-cloud-upload-outline"}},[t._v("更换顶部LOGO(展开)")])],1)],1),t._v(" "),n("Form-item",{attrs:{label:"顶部Logo(折叠)(格式:png(透明).jpg格式,尺寸:60px*50px,文件大小:<=100KB)"}},[n("img",{staticStyle:{height:"50px",background:"#03a9f3"},attrs:{src:t.info.small_logo}}),n("br"),t._v(" "),n("Upload",{ref:"upload",attrs:{headers:t.upload_header,"show-upload-list":!1,"on-success":t.handleUploadSuccess3,"on-error":t.handleUploadError,format:["jpg","jpeg","png"],"max-size":1024,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"on-progress":t.handleUploadProgress,"before-upload":t.handleUploadBefore,name:"file",type:"select",action:"/api/upload"}},[n("Button",{staticClass:"mt-2",attrs:{loading:t.upload_process,type:"ghost",icon:"ios-cloud-upload-outline"}},[t._v("更换顶部LOGO(收起)")])],1)],1),t._v(" "),n("Form-item",[n("Button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)},i=[];a._withStripped=!0;var o={render:a,staticRenderFns:i};e.a=o},2701:function(t,e,n){"use strict";function a(t){s||n(2702)}var i=n(1804),o=n(2703),s=!1,r=n(11),c=a,l=r(i.a,o.a,!1,c,"data-v-7c380b0f",null);l.options.__file="src/views/system/configs/ui/preview-pc.vue",e.a=l.exports},2702:function(t,e){},2703:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box",style:{background:"url("+t.info.login_img+") no-repeat center center"}},[n("div",{staticClass:"box-login"},[n("div",{staticClass:"login-contanier"},[n("p",{staticClass:"login-header"},[t._v(t._s(t.info.system_name))]),t._v(" "),n("div",{staticClass:"login-content"},[n("div",{staticClass:"input-container user-container"},[n("div",{staticClass:"input-box"},[n("span",{staticClass:"input-placeholder",class:(a={},a.focus=t.accountFocus,a.fill=t.formLogin.account,a)},[t._v("\n\t\t          \t\t账号\n\t\t\t          ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.formLogin.account,expression:"formLogin.account"},{name:"focusme",rawName:"v-focusme",value:"account",expression:"'account'"}],staticClass:"box-input",attrs:{type:"text"},domProps:{value:t.formLogin.account},on:{focus:function(e){t.inputFocus(e,"account")},blur:function(e){t.inputBlur(e,"account")},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),t.focus("password")},input:function(e){e.target.composing||t.$set(t.formLogin,"account",e.target.value)}}}),t._v(" "),""!==t.formLogin.account?n("Icon",{staticClass:"input-icon",attrs:{type:"ios-close-empty"},nativeOn:{click:function(e){return t.clearAccount(e)}}}):t._e()],1)]),t._v(" "),n("div",{staticClass:"input-container password-container"},[n("div",{staticClass:"input-box"},[n("span",{staticClass:"input-placeholder",class:(i={},i.focus=t.passwordFocus,i.fill=t.formLogin.password,i)},[t._v("\n\t\t\t\t         \t 密码\n\t\t\t          ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.formLogin.password,expression:"formLogin.password"},{name:"focusme",rawName:"v-focusme",value:"password",expression:"'password'"}],staticClass:"box-input",attrs:{type:"password"},domProps:{value:t.formLogin.password},on:{focus:function(e){t.inputFocus(e,"password")},blur:function(e){t.inputBlur(e,"password")},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),t.focus("captcha")},input:function(e){e.target.composing||t.$set(t.formLogin,"password",e.target.value)}}}),t._v(" "),""!==t.formLogin.password?n("Icon",{staticClass:"input-icon",attrs:{type:"ios-close-empty"},nativeOn:{click:function(e){return t.clearPw(e)}}}):t._e()],1)]),t._v(" "),n("div",{staticClass:"input-container captcha-contanier"},[n("div",{staticClass:"input-box captcha-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.formLogin.captcha,expression:"formLogin.captcha"},{name:"focusme",rawName:"v-focusme",value:"captcha",expression:"'captcha'"}],staticClass:"box-input",attrs:{type:"text",placeholder:"计算结果"},domProps:{value:t.formLogin.captcha},on:{focus:function(e){t.inputFocus(e,"captcha")},blur:function(e){t.inputBlur(e,"captcha")},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.login(e)):null},input:function(e){e.target.composing||t.$set(t.formLogin,"captcha",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"img-wrap"},[n("img",{attrs:{src:t.captchaUrl}})])]),t._v(" "),n("button",{staticClass:"btn-login mb-2"},[t._v("登录")]),t._v(" "),n("div",{staticClass:"forget_pw cursor text-info pull-right"},[t._v("忘记密码?")]),t._v(" "),n("footer",{staticClass:"footer"},[n("span",{domProps:{innerHTML:t._s(t.info.copyright)}})])])])])]);var a,i},i=[];a._withStripped=!0;var o={render:a,staticRenderFns:i};e.a=o},2704:function(t,e,n){"use strict";var a=n(1805),i=n(2705),o=n(11),s=o(a.a,i.a,!1,null,null,null);s.options.__file="src/views/system/configs/ui/menu/student-menu.vue",e.a=s.exports},2705:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Alert",{attrs:{"show-icon":""}},[n("p",[t._v("菜单图标(格式:.jpg/png,尺寸:50px*50px,文件大小:<= 200KB)")])]),t._v(" "),n("table",{staticClass:"modal-table"},[t._m(0),t._v(" "),n("tbody",t._l(t.config.home_menu,function(e){return n("tr",[n("td",[n("div",{staticClass:"ivu-table-cell"},[n("Input",{staticStyle:{width:"80px"},model:{value:e.label,callback:function(n){t.$set(e,"label",n)},expression:"item.label"}})],1)]),t._v(" "),n("td",[n("div",{staticClass:"ivu-table-cell"},[n("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.icon}}),t._v(" "),n("Button",{staticClass:"ml-2",attrs:{type:"ghost",icon:"ios-clock-outline"},on:{click:function(n){t.selectFromMyFile(e)}}},[t._v("上传图标")])],1)]),t._v(" "),n("td",[n("div",{staticClass:"ivu-table-cell"},[n("i-switch",{attrs:{"true-value":1,"false-value":0},model:{value:e.enable,callback:function(n){t.$set(e,"enable",n)},expression:"item.enable"}})],1)])])}))]),t._v(" "),n("div",{staticClass:"mt-4"},[n("Button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("保存")]),t._v(" "),n("Button",{staticClass:"ml-2",attrs:{type:"ghost",disabled:0==t.cfg_id},on:{click:t.restoreDefault}},[t._v("恢复默认设置")])],1)],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[n("div",{staticClass:"ivu-table-cell"},[t._v("\n\t\t\t\t\t菜单\n\t\t\t\t")])]),t._v(" "),n("th",[n("div",{staticClass:"ivu-table-cell"},[t._v("\n\t\t\t\t\t图标\n\t\t\t\t")])]),t._v(" "),n("th",[n("div",{staticClass:"ivu-table-cell"},[t._v("\n\t\t\t\t\t启用\n\t\t\t\t")])])])])}];a._withStripped=!0;var o={render:a,staticRenderFns:i};e.a=o},2706:function(t,e,n){"use strict";function a(t){s||n(2707)}var i=n(1806),o=n(2708),s=!1,r=n(11),c=a,l=r(i.a,o.a,!1,c,null,null);l.options.__file="src/views/system/configs/ui/menu/preview-student-menu.vue",e.a=l.exports},2707:function(t,e){},2708:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"preview-home-page"},[t._m(0),t._v(" "),n("div",{staticClass:"menu-grid"},t._l(t.data,function(e){return 1==e.enable?n("div",{staticClass:"menu-item"},[n("div",{staticClass:"grid-icon"},[n("img",{attrs:{src:e.icon}})]),t._v(" "),n("div",{staticClass:"grid-label"},[t._v(t._s(e.label))])]):t._e()})),t._v(" "),t._m(1)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-header"},[n("div",{staticClass:"header-avatar"},[n("img",{attrs:{src:"http://s1.xiao360.com/common_img/avatar.jpg"}})]),t._v(" "),n("div",{staticClass:"text-center mt-2"},[t._v("XXX · 8岁")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabbar"},[n("div",{staticClass:"tabbar-item"},[n("div",{staticClass:"tabbar-icon"},[n("img",{attrs:{src:"/static/img/student/home_active.png"}})]),t._v(" "),n("div",{staticClass:"tabbar-label"},[t._v("首页")])]),t._v(" "),n("div",{staticClass:"tabbar-item"},[n("div",{staticClass:"tabbar-icon"},[n("img",{attrs:{src:"/static/img/student/lesson.png"}})]),t._v(" "),n("div",{staticClass:"tabbar-label"},[t._v("课程")])]),t._v(" "),n("div",{staticClass:"tabbar-item"},[n("div",{staticClass:"tabbar-icon"},[n("img",{attrs:{src:"/static/img/student/mine.png"}})]),t._v(" "),n("div",{staticClass:"tabbar-label"},[t._v("我的")])])])}];a._withStripped=!0;var o={render:a,staticRenderFns:i};e.a=o},2709:function(t,e,n){"use strict";var a=n(1807),i=n(2710),o=n(11),s=o(a.a,i.a,!1,null,null,null);s.options.__file="src/views/system/configs/ui/menu/org-menu.vue",e.a=s.exports},2710:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("RadioGroup",{staticClass:"ml-1 mb-2",attrs:{type:"button"},on:{"on-change":t.emitEvent},model:{value:t.rid,callback:function(e){t.rid=e},expression:"rid"}},t._l(t.rids,function(e){return n("Radio",{attrs:{label:e}},[t._v(t._s(t._f("role_name")(e)))])})),t._v(" "),n("Alert",{attrs:{"show-icon":""}},[n("p",[t._v("菜单图标(格式:.jpg/png,尺寸:50px*50px,文件大小:<= 200KB)")])]),t._v(" "),n("table",{staticClass:"modal-table"},[t._m(0),t._v(" "),n("tbody",t._l(t.config.home_menu,function(e){return-1!==e.rids.indexOf(t.rid)?n("tr",[n("td",[n("div",{staticClass:"ivu-table-cell"},[n("Input",{staticStyle:{width:"80px"},model:{value:e.label,callback:function(n){t.$set(e,"label",n)},expression:"item.label"}})],1)]),t._v(" "),n("td",[n("div",{staticClass:"ivu-table-cell"},[n("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.icon}}),t._v(" "),n("Button",{staticClass:"ml-2",attrs:{type:"ghost",icon:"ios-clock-outline"},on:{click:function(n){t.selectFromMyFile(e)}}},[t._v("上传图标")])],1)]),t._v(" "),n("td",[n("div",{staticClass:"ivu-table-cell"},[n("i-switch",{attrs:{"true-value":1,"false-value":0},model:{value:e.enable,callback:function(n){t.$set(e,"enable",n)},expression:"item.enable"}})],1)])]):t._e()}))]),t._v(" "),n("div",{staticClass:"mt-4"},[n("Button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("保存")]),t._v(" "),n("Button",{staticClass:"ml-2",attrs:{type:"ghost",disabled:0==t.cfg_id},on:{click:t.restoreDefault}},[t._v("恢复默认设置")])],1)],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[n("div",{staticClass:"ivu-table-cell"},[t._v("\n\t\t\t\t\t菜单\n\t\t\t\t")])]),t._v(" "),n("th",[n("div",{staticClass:"ivu-table-cell"},[t._v("\n\t\t\t\t\t图标\n\t\t\t\t")])]),t._v(" "),n("th",[n("div",{staticClass:"ivu-table-cell"},[t._v("\n\t\t\t\t\t启用\n\t\t\t\t")])])])])}];a._withStripped=!0;var o={render:a,staticRenderFns:i};e.a=o},2711:function(t,e,n){"use strict";var a=n(1808),i=n(2712),o=n(11),s=o(a.a,i.a,!1,null,null,null);s.options.__file="src/views/system/configs/ui/menu/preview-org-menu.vue",e.a=s.exports},2712:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"preview-home-page"},[n("div",{staticClass:"home-header"},[t._m(0),t._v(" "),n("div",{staticClass:"text-center mt-2"},[t._v("X"+t._s(t._f("translate")("老师"))+" · 男")]),t._v(" "),n("div",{staticClass:"current-role"},[n("Icon",{attrs:{type:"person"}}),t._v(" "),n("span",[t._v(t._s(t._f("role_name")(t.data.rid)))])],1)]),t._v(" "),n("div",{staticClass:"menu-grid"},t._l(t.data.config.home_menu,function(e){return 1==e.enable&&-1!==e.rids.indexOf(t.data.rid)?n("div",{staticClass:"menu-item"},[n("div",{staticClass:"grid-icon"},[n("img",{attrs:{src:e.icon}})]),t._v(" "),n("div",{staticClass:"grid-label"},[t._v(t._s(e.label))])]):t._e()})),t._v(" "),t._m(1)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-avatar"},[n("img",{attrs:{src:"http://s1.xiao360.com/common_img/avatar.jpg"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabbar"},[n("div",{staticClass:"tabbar-item"},[n("div",{staticClass:"tabbar-icon"},[n("img",{attrs:{src:"/static/img/student/home_active.png"}})]),t._v(" "),n("div",{staticClass:"tabbar-label"},[t._v("首页")])]),t._v(" "),n("div",{staticClass:"tabbar-item"},[n("div",{staticClass:"tabbar-icon"},[n("img",{attrs:{src:"/static/img/student/outclass.png"}})]),t._v(" "),n("div",{staticClass:"tabbar-label"},[t._v("班级")])]),t._v(" "),n("div",{staticClass:"tabbar-item"},[n("div",{staticClass:"tabbar-icon"},[n("img",{attrs:{src:"/static/img/student/mine.png"}})]),t._v(" "),n("div",{staticClass:"tabbar-label"},[t._v("我的")])])])}];a._withStripped=!0;var o={render:a,staticRenderFns:i};e.a=o},2713:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row m-0"},[n("div",{staticClass:"col-md-6"},[n("Tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("TabPane",{attrs:{label:"PC端设置",name:"pc"}},[n("Tabs",{attrs:{type:"card"},model:{value:t.tab_pc,callback:function(e){t.tab_pc=e},expression:"tab_pc"}},[n("TabPane",{attrs:{label:"系统界面",name:"login"}},[n("tab-pc",{attrs:{info:t.info.pc},on:{"on-save":t.handleSubmit}})],1),t._v(" "),n("TabPane",{attrs:{label:"快捷菜单",name:"fast_menu"}})],1)],1),t._v(" "),n("TabPane",{attrs:{label:"学习管家设置",name:"mobile"}},[n("Tabs",{attrs:{type:"card"},model:{value:t.tab_mobile,callback:function(e){t.tab_mobile=e},expression:"tab_mobile"}},[n("TabPane",{attrs:{label:"登录界面",name:"login"}},[n("tab-mobile",{attrs:{info:t.info.mobile},on:{"on-save":t.handleSubmit}})],1),t._v(" "),n("TabPane",{attrs:{label:"快捷菜单",name:"fast_menu"}},["fast_menu"==t.tab_mobile?n("student-mobile-menu",{on:{"on-change":t.studentConfigChange}}):t._e()],1)],1)],1),t._v(" "),n("TabPane",{attrs:{label:"教育助手设置",name:"org"}},[n("Tabs",{attrs:{type:"card"},model:{value:t.tab_org,callback:function(e){t.tab_org=e},expression:"tab_org"}},[n("TabPane",{attrs:{label:"快捷菜单",name:"fast_menu"}},["fast_menu"==t.tab_org?n("org-mobile-menu",{on:{"on-change":t.orgConfigChange}}):t._e()],1)],1)],1)],1)],1),t._v(" "),n("div",{staticClass:"col-md-6"},[n("Card",{staticStyle:{height:"100%"},attrs:{"dis-hover":""}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("预览")]),t._v(" "),n("div",{staticClass:"login-contanier"},["pc"==t.tab?["login"==t.tab_pc?n("preview-pc",{attrs:{info:t.info.pc}}):t._e()]:t._e(),t._v(" "),"mobile"==t.tab?["login"==t.tab_mobile?n("preview-mobile",{attrs:{info:t.info.mobile}}):t._e(),t._v(" "),"fast_menu"==t.tab_mobile?n("preview-student-menu",{attrs:{data:t.student_preview_data}}):t._e()]:t._e(),t._v(" "),"org"==t.tab?["fast_menu"==t.tab_org?n("preview-org-menu",{attrs:{data:t.org_preview_data}}):t._e()]:t._e()],2)])],1)])])},i=[];a._withStripped=!0;var o={render:a,staticRenderFns:i};e.a=o},526:function(t,e,n){"use strict";function a(t){s||n(2697)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1802),o=n(2713),s=!1,r=n(11),c=a,l=r(i.a,o.a,!1,c,null,null);l.options.__file="src/views/system/configs/ui.vue",e.default=l.exports},602:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(611),o=a(i),s=n(212),r=a(s);e.default=function(){function t(t,e){var n=[],a=!0,i=!1,o=void 0;try{for(var s,c=(0,r.default)(t);!(a=(s=c.next()).done)&&(n.push(s.value),!e||n.length!==e);a=!0);}catch(t){i=!0,o=t}finally{try{!a&&c.return&&c.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,o.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},611:function(t,e,n){t.exports={default:n(612),__esModule:!0}},612:function(t,e,n){n(36),n(27),t.exports=n(613)},613:function(t,e,n){var a=n(56),i=n(4)("iterator"),o=n(18);t.exports=n(2).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(a(e))}},910:function(t,e,n){"use strict";var a=n(602),i=n.n(a),o=n(1);e.a={data:function(){return{cfg_name:"",cfg_id:0,config:{},action:"edit"}},mounted:function(){this.init_config_data()},methods:{init_config_data:function(){var t=this;this.$http.get("configs?cfg_name="+this.cfg_name).then(function(e){if(o.a.isArray(e.body.data)&&0===e.body.data.length)t.action="add";else{0==e.body.data.cfg_id&&(t.action="add");for(var n in e.body.data.cfg_value)t.$set(t.config,n,e.body.data.cfg_value[n]);t.cfg_id=e.body.data.cfg_id}t.initFinished()}).catch(function(e){t.$Message.error(e.message)})},initFinished:function(){},handleSubmit:function(){var t=this,e="add"===this.action?["post","configs"]:["put","configs/"+this.cfg_id],n=i()(e,2),a=n[0],o=n[1],s={cfg_name:this.cfg_name,cfg_value:this.config};this.$http[a](o,s).then(function(e){var n=t.cfg_name;"lesson"==n&&(n="lesson_config"),"params"==n&&(n="configs"),t.$Message.success("保存成功!"),t.$store.dispatch("updateGlobalVar",n),t.init_config_data()}).catch(function(e){t.$Message.error(e.message)})},restoreDefault:function(){var t=this;this.confirm("你确定恢复默认的菜单设置吗？").then(function(){t.$rest("configs").delete(t.cfg_id).success(function(e){t.$Message.success("恢复成功"),t.init_config_data()}).error(function(e){t.$Message.error(e.body.message)})})}}}}});